jQuery(function(a){function b(b){a(b).closest("form").submit(function(){var b=a(this).serialize();return a.post("options.php",b).error(function(){c(!1),a("#ep-update-notice").addClass("notice notice-error").prepend('<p id="msg-text">An error occurred while saving your settings. ('+(new Date).toLocaleTimeString()+")</p>")}).success(function(){c(!1),a("#ep-update-notice").addClass("notice notice-success").children("#msg-text").html("Settings saved. ("+(new Date).toLocaleTimeString()+")")}),c(!0),!1})}function c(b){b?(a("#ep-update-notice").fadeOut("fast"),a(".wrap").fadeTo("slow",.35),a("input").prop("disabled",!0)):(a("#ep-update-notice").fadeIn("fast"),a(".wrap").fadeTo("fast",1),a("input").prop("disabled",!1))}function d(){a(".ep-condition-helper").each(function(){cond=a(this).attr("condition"),conditions=[],parent="#"+a(this).attr("id"),a(cond.split(";")).each(function(){""!=this&&conditions.push(this.split("="))}),bool=[],a(conditions).each(function(){value=this[1],element="#"+this[0],a(element).val()?value.indexOf("!")>=0?bool.push(a(element).val()!==value.replace("!","")):bool.push(a(element).val()===value):value.indexOf(",")>=0?(values=value.split(","),a(values).each(function(){bool.push(a(element).find('input[name$="['+a.trim(this)+']"]').attr("checked"))})):bool.push(a(element).find('input[name$="['+value+']"]').attr("checked"))}),e(parent,f(bool))})}function e(b,c){c?(a(b).closest("tr").fadeIn("fast"),a(b).closest("input, select, textarea").prop("disabled",!1)):(a(b).closest("tr").fadeOut("fast"),a(b).closest("input, select, textarea").prop("disabled",!0))}function f(a){for(var b in a)if(!a[b])return!1;return!0}function g(){a(".menu > .menu-item").each(function(){!a(this).find(".item-controls .item-delete").length>0&&a(this).find(".item-edit").before(a(this).find(".item-delete").clone().wrap("<span class='submitbox item-type'>").parent())})}a("body").hasClass("toplevel_page_edies-plugin-edies-plugin-admin")&&a("input[type=submit]").click(function(){b(a(this))}),a("#ep-update-notice .notice-dismiss").click(function(){a("#ep-update-notice").fadeOut("fast")}),a("input, select, textarea").on("change",function(){d()}),d(),g(),a("input").click(function(){setTimeout(g,1e3)}),(hash=window.location.hash)&&(a("a").removeClass("active"),a(".settings-section").removeClass("active-section"),a("a[href="+hash+"]").addClass("active"),a(hash).addClass("active-section")),a("#ep-settings-tabs a").click(function(b){b.preventDefault(),a(".settings-section").removeClass("active-section"),a("a").removeClass("active");var c=a(this).attr("href");window.location.hash=c,a(this).addClass("active"),a(c).addClass("active-section")}),a(".settings-section").css("min-height",a("#ep-settings-tabs").outerHeight())});